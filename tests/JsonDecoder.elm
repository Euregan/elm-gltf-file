module JsonDecoder exposing (..)

import Array
import Expect
import Gbl.Decode.Json.Raw exposing (AccessorComponentType(..), AccessorType(..), BufferViewTarget(..), Gltf, MaterialAlphaMode(..), MeshPrimitiveMode(..), decoder)
import Json.Decode
import Test exposing (..)


type alias Model =
    { raw : String
    , parsed : Gltf
    }


skeleton : Model
skeleton =
    { raw = "{\"accessors\":[{\"bufferView\":0,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"max\":[1.35997713e-9,0,0.065],\"min\":[-0.09505126,-0.3917962,-0.117539212],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":1,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":2,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":3,\"byteOffset\":0,\"componentType\":5125,\"count\":84,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":4,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"max\":[0.081592,1.80477853e-16,0.055796],\"min\":[-3.360086e-10,-0.336317837,-0.100895666],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":5,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":6,\"byteOffset\":0,\"componentType\":5126,\"count\":48,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":7,\"byteOffset\":0,\"componentType\":5125,\"count\":84,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":8,\"byteOffset\":0,\"componentType\":5126,\"count\":218,\"max\":[0.13,0.26,0.1],\"min\":[-0.13,2.70716786e-16,-0.1],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":9,\"byteOffset\":0,\"componentType\":5126,\"count\":218,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":10,\"byteOffset\":0,\"componentType\":5126,\"count\":218,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":11,\"byteOffset\":0,\"componentType\":5125,\"count\":420,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":12,\"byteOffset\":0,\"componentType\":5126,\"count\":108,\"max\":[0.5,1,0.5],\"min\":[-0.5,-1.08286714e-15,-0.5],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":13,\"byteOffset\":0,\"componentType\":5126,\"count\":108,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":14,\"byteOffset\":0,\"componentType\":5126,\"count\":108,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":15,\"byteOffset\":0,\"componentType\":5125,\"count\":228,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":16,\"byteOffset\":0,\"componentType\":5125,\"count\":18,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":17,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"max\":[0.111592,0,0.07579599],\"min\":[0,-0.223184,-0.1],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":18,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":19,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":20,\"byteOffset\":0,\"componentType\":5125,\"count\":96,\"normalized\":false,\"type\":\"SCALAR\"},{\"bufferView\":21,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"max\":[1.44382282e-15,4.51194632e-17,0.0882991552],\"min\":[-0.13,-0.26,-0.11649581],\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":22,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"normalized\":false,\"type\":\"VEC3\"},{\"bufferView\":23,\"byteOffset\":0,\"componentType\":5126,\"count\":54,\"normalized\":false,\"type\":\"VEC2\"},{\"bufferView\":24,\"byteOffset\":0,\"componentType\":5125,\"count\":96,\"normalized\":false,\"type\":\"SCALAR\"}],\"asset\":{\"generator\":\"UniGLTF-2.34.0\",\"version\":\"2.0\"},\"buffers\":[{\"byteLength\":21072}],\"bufferViews\":[{\"buffer\":0,\"byteLength\":576,\"byteOffset\":0,\"target\":34962},{\"buffer\":0,\"byteLength\":576,\"byteOffset\":576,\"target\":34962},{\"buffer\":0,\"byteLength\":384,\"byteOffset\":1152,\"target\":34962},{\"buffer\":0,\"byteLength\":336,\"byteOffset\":1536,\"target\":34963},{\"buffer\":0,\"byteLength\":576,\"byteOffset\":1872,\"target\":34962},{\"buffer\":0,\"byteLength\":576,\"byteOffset\":2448,\"target\":34962},{\"buffer\":0,\"byteLength\":384,\"byteOffset\":3024,\"target\":34962},{\"buffer\":0,\"byteLength\":336,\"byteOffset\":3408,\"target\":34963},{\"buffer\":0,\"byteLength\":2616,\"byteOffset\":3744,\"target\":34962},{\"buffer\":0,\"byteLength\":2616,\"byteOffset\":6360,\"target\":34962},{\"buffer\":0,\"byteLength\":1744,\"byteOffset\":8976,\"target\":34962},{\"buffer\":0,\"byteLength\":1680,\"byteOffset\":10720,\"target\":34963},{\"buffer\":0,\"byteLength\":1296,\"byteOffset\":12408,\"target\":34962},{\"buffer\":0,\"byteLength\":1296,\"byteOffset\":13704,\"target\":34962},{\"buffer\":0,\"byteLength\":864,\"byteOffset\":15000,\"target\":34962},{\"buffer\":0,\"byteLength\":912,\"byteOffset\":15864,\"target\":34963},{\"buffer\":0,\"byteLength\":72,\"byteOffset\":16776,\"target\":34963},{\"buffer\":0,\"byteLength\":648,\"byteOffset\":16848,\"target\":34962},{\"buffer\":0,\"byteLength\":648,\"byteOffset\":17496,\"target\":34962},{\"buffer\":0,\"byteLength\":432,\"byteOffset\":18144,\"target\":34962},{\"buffer\":0,\"byteLength\":384,\"byteOffset\":18576,\"target\":34963},{\"buffer\":0,\"byteLength\":648,\"byteOffset\":18960,\"target\":34962},{\"buffer\":0,\"byteLength\":648,\"byteOffset\":19608,\"target\":34962},{\"buffer\":0,\"byteLength\":432,\"byteOffset\":20256,\"target\":34962},{\"buffer\":0,\"byteLength\":384,\"byteOffset\":20688,\"target\":34963}],\"extensions\":{\"VRM\":{\"blendShapeMaster\":{\"blendShapeGroups\":[]},\"exporterVersion\":\"UniVRM-0.98.0\",\"firstPerson\":{\"firstPersonBoneOffset\":{\"x\":0,\"y\":0,\"z\":0},\"lookAtHorizontalInner\":{\"xRange\":90,\"yRange\":10},\"lookAtHorizontalOuter\":{\"xRange\":90,\"yRange\":10},\"lookAtTypeName\":\"Bone\",\"lookAtVerticalDown\":{\"xRange\":90,\"yRange\":10},\"lookAtVerticalUp\":{\"xRange\":90,\"yRange\":10},\"meshAnnotations\":[]},\"humanoid\":{\"armStretch\":0.05,\"feetSpacing\":0,\"hasTranslationDoF\":false,\"humanBones\":[],\"legStretch\":0.05,\"lowerArmTwist\":0.5,\"lowerLegTwist\":0.5,\"upperArmTwist\":0.5,\"upperLegTwist\":0.5},\"materialProperties\":[{\"floatProperties\":{},\"keywordMap\":{},\"name\":\"wax\",\"renderQueue\":2000,\"shader\":\"VRM_USE_GLTFSHADER\",\"tagMap\":{},\"textureProperties\":{},\"vectorProperties\":{}},{\"floatProperties\":{},\"keywordMap\":{},\"name\":\"woodDark\",\"renderQueue\":2000,\"shader\":\"VRM_USE_GLTFSHADER\",\"tagMap\":{},\"textureProperties\":{},\"vectorProperties\":{}}],\"meta\":{\"allowedUserName\":\"OnlyAuthor\",\"commercialUssageName\":\"Disallow\",\"licenseName\":\"Redistribution_Prohibited\",\"sexualUssageName\":\"Disallow\",\"violentUssageName\":\"Disallow\"},\"secondaryAnimation\":{\"boneGroups\":[],\"colliderGroups\":[]},\"specVersion\":\"0.0\"}},\"extensionsUsed\":[\"KHR_materials_unlit\",\"KHR_texture_transform\",\"VRM\"],\"materials\":[{\"alphaMode\":\"OPAQUE\",\"doubleSided\":false,\"name\":\"wax\",\"pbrMetallicRoughness\":{\"baseColorFactor\":[0.806952357,0.7681513,0.6038274,1],\"metallicFactor\":1,\"roughnessFactor\":1}},{\"alphaMode\":\"OPAQUE\",\"doubleSided\":false,\"name\":\"woodDark\",\"pbrMetallicRoughness\":{\"baseColorFactor\":[0.3662527,0.1094617,0.0423114,1],\"metallicFactor\":1,\"roughnessFactor\":1}}],\"meshes\":[{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh armLeft\",\"primitives\":[{\"attributes\":{\"NORMAL\":1,\"POSITION\":0,\"TEXCOORD_0\":2},\"extras\":{\"targetNames\":[]},\"indices\":3,\"material\":0,\"mode\":4}]},{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh armRight\",\"primitives\":[{\"attributes\":{\"NORMAL\":5,\"POSITION\":4,\"TEXCOORD_0\":6},\"extras\":{\"targetNames\":[]},\"indices\":7,\"material\":0,\"mode\":4}]},{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh body\",\"primitives\":[{\"attributes\":{\"NORMAL\":9,\"POSITION\":8,\"TEXCOORD_0\":10},\"extras\":{\"targetNames\":[]},\"indices\":11,\"material\":0,\"mode\":4}]},{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh head\",\"primitives\":[{\"attributes\":{\"NORMAL\":13,\"POSITION\":12,\"TEXCOORD_0\":14},\"extras\":{\"targetNames\":[]},\"indices\":15,\"material\":0,\"mode\":4},{\"attributes\":{\"NORMAL\":13,\"POSITION\":12,\"TEXCOORD_0\":14},\"extras\":{\"targetNames\":[]},\"indices\":16,\"material\":1,\"mode\":4}]},{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh legLeft\",\"primitives\":[{\"attributes\":{\"NORMAL\":18,\"POSITION\":17,\"TEXCOORD_0\":19},\"extras\":{\"targetNames\":[]},\"indices\":20,\"material\":0,\"mode\":4}]},{\"extras\":{\"targetNames\":[]},\"name\":\"Mesh legRight\",\"primitives\":[{\"attributes\":{\"NORMAL\":22,\"POSITION\":21,\"TEXCOORD_0\":23},\"extras\":{\"targetNames\":[]},\"indices\":24,\"material\":0,\"mode\":4}]}],\"nodes\":[{\"children\":[1,2,3,4,5,6],\"name\":\"characterSkeleton\"},{\"mesh\":0,\"name\":\"armLeft\",\"scale\":[0.8584,0.8584,0.8584],\"translation\":[-0.13,0.473184,-1.80477853e-16]},{\"mesh\":1,\"name\":\"armRight\",\"translation\":[0.13,0.473184,0]},{\"mesh\":2,\"name\":\"body\",\"translation\":[-8.314225e-10,0.223184,0]},{\"mesh\":3,\"name\":\"head\",\"scale\":[0.26,0.26,0.26],\"translation\":[-8.314261e-10,0.48318398,9.02389264e-17]},{\"mesh\":4,\"name\":\"legLeft\",\"translation\":[-0.13,0.223184,0]},{\"mesh\":5,\"name\":\"legRight\",\"scale\":[0.8584,0.8584,0.8584],\"translation\":[0.13,0.223184,0]}],\"scene\":0,\"scenes\":[{\"nodes\":[0]}],\"extensionUsed\":[\"VRM\"]}"
    , parsed =
        { accessors =
            Array.fromList
                [ { bufferView = Just 0, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 1.35997713e-9, 0, 0.065 ]), min = Just (Array.fromList [ -0.09505126, -0.3917962, -0.117539212 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 1, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 2, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 3, byteOffset = 0, componentType = UnsignedInt, count = 84, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 4, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 0.081592, 1.80477853e-16, 0.055796 ]), min = Just (Array.fromList [ -3.360086e-10, -0.336317837, -0.100895666 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 5, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 6, byteOffset = 0, componentType = Float, count = 48, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 7, byteOffset = 0, componentType = UnsignedInt, count = 84, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 8, byteOffset = 0, componentType = Float, count = 218, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 0.13, 0.26, 0.1 ]), min = Just (Array.fromList [ -0.13, 2.70716786e-16, -0.1 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 9, byteOffset = 0, componentType = Float, count = 218, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 10, byteOffset = 0, componentType = Float, count = 218, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 11, byteOffset = 0, componentType = UnsignedInt, count = 420, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 12, byteOffset = 0, componentType = Float, count = 108, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 0.5, 1, 0.5 ]), min = Just (Array.fromList [ -0.5, -1.08286714e-15, -0.5 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 13, byteOffset = 0, componentType = Float, count = 108, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 14, byteOffset = 0, componentType = Float, count = 108, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 15, byteOffset = 0, componentType = UnsignedInt, count = 228, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 16, byteOffset = 0, componentType = UnsignedInt, count = 18, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 17, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 0.111592, 0, 0.07579599 ]), min = Just (Array.fromList [ 0, -0.223184, -0.1 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 18, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 19, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 20, byteOffset = 0, componentType = UnsignedInt, count = 96, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                , { bufferView = Just 21, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Just (Array.fromList [ 1.44382282e-15, 4.51194632e-17, 0.0882991552 ]), min = Just (Array.fromList [ -0.13, -0.26, -0.11649581 ]), name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 22, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec3 }
                , { bufferView = Just 23, byteOffset = 0, componentType = Float, count = 54, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Vec2 }
                , { bufferView = Just 24, byteOffset = 0, componentType = UnsignedInt, count = 96, extensions = Nothing, extras = Nothing, max = Nothing, min = Nothing, name = Nothing, normalized = False, sparse = Nothing, type_ = Scalar }
                ]
        , animations = Array.fromList []
        , asset = { copyright = Nothing, extensions = Nothing, extras = Nothing, generator = Just "UniGLTF-2.34.0", minVersion = Nothing, version = "2.0" }
        , bufferViews =
            Array.fromList
                [ { buffer = 0, byteLength = 576, byteOffset = 0, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 576, byteOffset = 576, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 384, byteOffset = 1152, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 336, byteOffset = 1536, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 576, byteOffset = 1872, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 576, byteOffset = 2448, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 384, byteOffset = 3024, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 336, byteOffset = 3408, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 2616, byteOffset = 3744, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 2616, byteOffset = 6360, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 1744, byteOffset = 8976, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 1680, byteOffset = 10720, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 1296, byteOffset = 12408, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 1296, byteOffset = 13704, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 864, byteOffset = 15000, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 912, byteOffset = 15864, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 72, byteOffset = 16776, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 648, byteOffset = 16848, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 648, byteOffset = 17496, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 432, byteOffset = 18144, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 384, byteOffset = 18576, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                , { buffer = 0, byteLength = 648, byteOffset = 18960, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 648, byteOffset = 19608, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 432, byteOffset = 20256, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ArrayBuffer }
                , { buffer = 0, byteLength = 384, byteOffset = 20688, byteStride = Nothing, extensions = Nothing, extras = Nothing, name = Nothing, target = Just ElementArrayBuffer }
                ]
        , buffers =
            Array.fromList
                [ { byteLength = 21072, extensions = Nothing, extras = Nothing, name = Nothing, uri = Nothing }
                ]
        , cameras = Array.fromList []
        , extensions = Just {}
        , extensionsRequired = Array.fromList []
        , extensionsUsed = Array.fromList [ "KHR_materials_unlit", "KHR_texture_transform", "VRM" ]
        , extras = Nothing
        , images = Array.fromList []
        , materials =
            Array.fromList
                [ { alphaCutoff = 0.5, alphaMode = Opaque, doubleSided = False, emissiveFactor = ( 0, 0, 0 ), emissiveTexture = Nothing, extensions = Nothing, extras = Nothing, name = Just "wax", normalTexture = Nothing, occlusionTexture = Nothing, pbrMetallicRoughness = Just { baseColorFactor = { w = 1, x = 0.806952357, y = 0.7681513, z = 0.6038274 }, baseColorTexture = Nothing, extensions = Nothing, extras = Nothing, metallicFactor = 1, metallicRoughnessTexture = Nothing, roughnessFactor = 1 } }
                , { alphaCutoff = 0.5, alphaMode = Opaque, doubleSided = False, emissiveFactor = ( 0, 0, 0 ), emissiveTexture = Nothing, extensions = Nothing, extras = Nothing, name = Just "woodDark", normalTexture = Nothing, occlusionTexture = Nothing, pbrMetallicRoughness = Just { baseColorFactor = { w = 1, x = 0.3662527, y = 0.1094617, z = 0.0423114 }, baseColorTexture = Nothing, extensions = Nothing, extras = Nothing, metallicFactor = 1, metallicRoughnessTexture = Nothing, roughnessFactor = 1 } }
                ]
        , meshes =
            Array.fromList
                [ { extensions = Nothing, extras = Just {}, name = Just "Mesh armLeft", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 1, position = Just 0, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 3, material = Just 0, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                , { extensions = Nothing, extras = Just {}, name = Just "Mesh armRight", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 5, position = Just 4, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 7, material = Just 0, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                , { extensions = Nothing, extras = Just {}, name = Just "Mesh body", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 9, position = Just 8, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 11, material = Just 0, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                , { extensions = Nothing, extras = Just {}, name = Just "Mesh head", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 13, position = Just 12, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 15, material = Just 0, mode = Triangles, targets = Array.fromList [] }, { attributes = { color = Nothing, joints = Nothing, normal = Just 13, position = Just 12, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 16, material = Just 1, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                , { extensions = Nothing, extras = Just {}, name = Just "Mesh legLeft", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 18, position = Just 17, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 20, material = Just 0, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                , { extensions = Nothing, extras = Just {}, name = Just "Mesh legRight", primitives = Array.fromList [ { attributes = { color = Nothing, joints = Nothing, normal = Just 22, position = Just 21, tangent = Nothing, textCoordinates = Nothing, weights = Nothing }, extensions = Nothing, extras = Just {}, indices = Just 24, material = Just 0, mode = Triangles, targets = Array.fromList [] } ], weights = Array.fromList [] }
                ]
        , nodes =
            Array.fromList
                [ { camera = Nothing, children = Array.fromList [ 1, 2, 3, 4, 5, 6 ], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Nothing, name = Just "characterSkeleton", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 1, 1, 1 ), skin = Nothing, translation = ( 0, 0, 0 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 0, name = Just "armLeft", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 0.8584, 0.8584, 0.8584 ), skin = Nothing, translation = ( -0.13, 0.473184, -1.80477853e-16 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 1, name = Just "armRight", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 1, 1, 1 ), skin = Nothing, translation = ( 0.13, 0.473184, 0 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 2, name = Just "body", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 1, 1, 1 ), skin = Nothing, translation = ( -8.314225e-10, 0.223184, 0 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 3, name = Just "head", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 0.26, 0.26, 0.26 ), skin = Nothing, translation = ( -8.314261e-10, 0.48318398, 9.02389264e-17 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 4, name = Just "legLeft", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 1, 1, 1 ), skin = Nothing, translation = ( -0.13, 0.223184, 0 ), weights = Array.fromList [] }
                , { camera = Nothing, children = Array.fromList [], extensions = Nothing, extras = Nothing, matrix = { c1r1 = 1, c1r2 = 0, c1r3 = 0, c1r4 = 0, c2r1 = 0, c2r2 = 1, c2r3 = 0, c2r4 = 0, c3r1 = 0, c3r2 = 0, c3r3 = 1, c3r4 = 0, c4r1 = 0, c4r2 = 0, c4r3 = 0, c4r4 = 1 }, mesh = Just 5, name = Just "legRight", rotation = { w = 1, x = 0, y = 0, z = 0 }, scale = ( 0.8584, 0.8584, 0.8584 ), skin = Nothing, translation = ( 0.13, 0.223184, 0 ), weights = Array.fromList [] }
                ]
        , samplers = Array.fromList []
        , scene = Just 0
        , scenes = Array.fromList [ { extensions = Nothing, extras = Nothing, name = Nothing, nodes = Array.fromList [ 0 ] } ]
        , skins = Array.fromList []
        , textures = Array.fromList []
        }
    }


suite : Test
suite =
    describe "Decoding the JSON part of the GLTF format"
        [ test "works on a small generic model" <|
            \_ ->
                let
                    gltf =
                        Json.Decode.decodeString decoder skeleton.raw
                in
                Expect.equal (Ok skeleton.parsed) gltf
        ]
